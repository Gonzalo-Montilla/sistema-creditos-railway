{% extends 'base.html' %}

{% block title %}Editar Crédito - Sistema de Créditos{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="page-title mb-0">
        <i class="fas fa-edit"></i> Editar Crédito #{{ credito.id }}
    </h1>
    <a href="{% url 'creditos' %}" class="btn btn-secondary">
        <i class="fas fa-arrow-left"></i> Volver
    </a>
</div>

<div class="card">
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="{{ form.cliente.id_for_label }}" class="form-label">
                            <i class="fas fa-user"></i> Cliente *
                        </label>
                        {{ form.cliente }}
                        {% if form.cliente.errors %}
                            <div class="text-danger">{{ form.cliente.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="{{ form.monto.id_for_label }}" class="form-label">
                            <i class="fas fa-dollar-sign"></i> Monto *
                        </label>
                        {{ form.monto }}
                        {% if form.monto.errors %}
                            <div class="text-danger">{{ form.monto.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-3">
                    <div class="mb-3">
                        <label for="{{ form.tasa_interes.id_for_label }}" class="form-label">
                            <i class="fas fa-percentage"></i> Tasa de Interés (%) *
                        </label>
                        {{ form.tasa_interes }}
                        {% if form.tasa_interes.errors %}
                            <div class="text-danger">{{ form.tasa_interes.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="col-md-3">
                    <div class="mb-3">
                        <label for="{{ form.tipo_plazo.id_for_label }}" class="form-label">
                            <i class="fas fa-calendar-alt"></i> Tipo de Plazo *
                        </label>
                        {{ form.tipo_plazo }}
                        {% if form.tipo_plazo.errors %}
                            <div class="text-danger">{{ form.tipo_plazo.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="col-md-3">
                    <div class="mb-3">
                        <label for="{{ form.cantidad_cuotas.id_for_label }}" class="form-label">
                            <i class="fas fa-list-ol"></i> Cantidad de Cuotas *
                        </label>
                        {{ form.cantidad_cuotas }}
                        {% if form.cantidad_cuotas.errors %}
                            <div class="text-danger">{{ form.cantidad_cuotas.errors }}</div>
                        {% endif %}
                    </div>
                </div>
                
                <div class="col-md-3">
                    <div class="mb-3">
                        <label for="{{ form.estado.id_for_label }}" class="form-label">
                            <i class="fas fa-flag"></i> Estado *
                        </label>
                        {{ form.estado }}
                        {% if form.estado.errors %}
                            <div class="text-danger">{{ form.estado.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <!-- Cobrador Asignado -->
            <div class="row">
                <div class="col-md-6">
                    <div class="mb-3">
                        <label for="{{ form.cobrador.id_for_label }}" class="form-label">
                            <i class="bi bi-cash-coin"></i> Cobrador Asignado
                        </label>
                        {{ form.cobrador }}
                        <div class="form-text">
                            <small class="text-muted">
                                <i class="fas fa-info-circle"></i> 
                                Opcional: Asigne un cobrador para gestionar este crédito
                            </small>
                        </div>
                        {% if form.cobrador.errors %}
                            <div class="text-danger">{{ form.cobrador.errors }}</div>
                        {% endif %}
                    </div>
                </div>
            </div>
            
            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <a href="{% url 'creditos' %}" class="btn btn-secondary me-md-2">
                    <i class="fas fa-times"></i> Cancelar
                </a>
                <button type="submit" class="btn btn-primary">
                    <i class="fas fa-save"></i> Actualizar Crédito
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
